<!doctype html><html lang=en-us><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,maximum-scale=1,user-scalable=no"><title>Publishing Mods on GitHub Actions (NexusMods, Steam Workshop, NuGet) - BUTR Documentation</title><meta name=generator content="Hugo 0.107.0"><link href=https://butr.github.io/documentation//index.xml rel=alternate type=application/rss+xml><link rel=canonical href=https://butr.github.io/documentation/advanced/publishing-on-github/><link rel=stylesheet href=https://butr.github.io/documentation/css/theme.min.css><script src=https://use.fontawesome.com/releases/v5.0.6/js/all.js></script>
<link rel=stylesheet href=https://butr.github.io/documentation/css/chroma.min.css><script src=https://cdn.jsdelivr.net/npm/jquery@3.4.1/dist/jquery.min.js></script>
<script src=https://cdn.jsdelivr.net/npm/jquery.easing@1.4.1/jquery.easing.min.js></script>
<script src=https://cdn.jsdelivr.net/npm/clipboard@2.0.6/dist/clipboard.min.js></script>
<script src=https://butr.github.io/documentation/js/bundle.js></script><style>:root{}</style><meta property="og:title" content="Publishing Mods on GitHub Actions (NexusMods, Steam Workshop, NuGet)"><meta property="og:description" content="Introduction We created some easy to use reusable workflows that you can use to automatically publish your mods on NexusMods, Steam Workshop, NuGet/GPR and GitHub Releases.
The workflow is a multijob.
Here&rsquo;s a full example.
First, you need to build your module on GitHub Actions and publish the binaries as an artifact.
Here&rsquo;s an abstract example that uses Bannerlord.BuildResources for automatically building the mod with the proper structure.
build-module: name: Build Module runs-on: ubuntu-latest steps: - name: Checkout Repository uses: actions/checkout@v2 - name: Setup ."><meta property="og:type" content="article"><meta property="og:url" content="https://butr.github.io/documentation/advanced/publishing-on-github/"><meta property="og:image" content="https://butr.github.io/documentation/images/og-image.png"><meta property="article:section" content="advanced"><meta property="article:published_time" content="2022-11-29T19:30:00+03:00"><meta property="article:modified_time" content="2022-11-29T19:30:00+03:00"><meta property="og:site_name" content="BUTR Documentation"><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content="https://butr.github.io/documentation/images/og-image.png"><meta name=twitter:title content="Publishing Mods on GitHub Actions (NexusMods, Steam Workshop, NuGet)"><meta name=twitter:description content="Introduction We created some easy to use reusable workflows that you can use to automatically publish your mods on NexusMods, Steam Workshop, NuGet/GPR and GitHub Releases.
The workflow is a multijob.
Here&rsquo;s a full example.
First, you need to build your module on GitHub Actions and publish the binaries as an artifact.
Here&rsquo;s an abstract example that uses Bannerlord.BuildResources for automatically building the mod with the proper structure.
build-module: name: Build Module runs-on: ubuntu-latest steps: - name: Checkout Repository uses: actions/checkout@v2 - name: Setup ."><meta itemprop=name content="Publishing Mods on GitHub Actions (NexusMods, Steam Workshop, NuGet)"><meta itemprop=description content="Introduction We created some easy to use reusable workflows that you can use to automatically publish your mods on NexusMods, Steam Workshop, NuGet/GPR and GitHub Releases.
The workflow is a multijob.
Here&rsquo;s a full example.
First, you need to build your module on GitHub Actions and publish the binaries as an artifact.
Here&rsquo;s an abstract example that uses Bannerlord.BuildResources for automatically building the mod with the proper structure.
build-module: name: Build Module runs-on: ubuntu-latest steps: - name: Checkout Repository uses: actions/checkout@v2 - name: Setup ."><meta itemprop=datePublished content="2022-11-29T19:30:00+03:00"><meta itemprop=dateModified content="2022-11-29T19:30:00+03:00"><meta itemprop=wordCount content="348"><meta itemprop=image content="https://butr.github.io/documentation/images/og-image.png"><meta itemprop=keywords content></head><body><div class=container><header><h1>BUTR Documentation</h1><a href=https://github.com/butr/documentation class=github><i class="fab fa-github"></i></a></header><div class=content-container><main><h1>Publishing Mods on GitHub Actions (NexusMods, Steam Workshop, NuGet)</h1><h1 id=introduction>Introduction</h1><p>We created some easy to use reusable workflows that you can use to automatically publish your mods on NexusMods, Steam Workshop, NuGet/GPR and GitHub Releases.<br>The workflow is a multijob.<br>Here&rsquo;s a <a href=https://github.com/BUTR/Bannerlord.UIExtenderEx/blob/9a6f063ec9f8924feb51294ff0056501efc863c5/.github/workflows/publish.yml>full example</a>.<br>First, you need to build your module on GitHub Actions and publish the binaries as an artifact.</p><p>Here&rsquo;s an abstract example that uses <a href=https://github.com/BUTR/Bannerlord.BuildResources>Bannerlord.BuildResources</a>
for automatically building the mod with the proper structure.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-yml data-lang=yml><span style=display:flex><span>  <span style=color:#f92672>build-module</span>:
</span></span><span style=display:flex><span>    <span style=color:#f92672>name</span>: <span style=color:#ae81ff>Build Module</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>runs-on</span>: <span style=color:#ae81ff>ubuntu-latest</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>steps</span>:
</span></span><span style=display:flex><span>    - <span style=color:#f92672>name</span>: <span style=color:#ae81ff>Checkout Repository</span>
</span></span><span style=display:flex><span>      <span style=color:#f92672>uses</span>: <span style=color:#ae81ff>actions/checkout@v2</span>
</span></span><span style=display:flex><span>        
</span></span><span style=display:flex><span>    - <span style=color:#f92672>name</span>: <span style=color:#ae81ff>Setup .NET 6</span>
</span></span><span style=display:flex><span>      <span style=color:#f92672>uses</span>: <span style=color:#ae81ff>actions/setup-dotnet@master</span>
</span></span><span style=display:flex><span>      <span style=color:#f92672>with</span>:
</span></span><span style=display:flex><span>        <span style=color:#f92672>dotnet-version</span>: <span style=color:#ae81ff>6.0</span><span style=color:#ae81ff>.x</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    - <span style=color:#f92672>name</span>: <span style=color:#ae81ff>Build Bannerlord.Module</span>
</span></span><span style=display:flex><span>      <span style=color:#f92672>run</span>: &gt;-<span style=color:#e6db74>
</span></span></span><span style=display:flex><span><span style=color:#e6db74>        mkdir bannerlord;
</span></span></span><span style=display:flex><span><span style=color:#e6db74>        dotnet build src/Bannerlord.Module/Bannerlord.Module.csproj --configuration Release -p:GameFolder=&#34;$PWD/bannerlord&#34;;</span>        
</span></span><span style=display:flex><span>      <span style=color:#f92672>shell</span>: <span style=color:#ae81ff>pwsh</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    - <span style=color:#f92672>name</span>: <span style=color:#ae81ff>Upload Bannerlord folder</span>
</span></span><span style=display:flex><span>      <span style=color:#f92672>uses</span>: <span style=color:#ae81ff>actions/upload-artifact@v3</span>
</span></span><span style=display:flex><span>      <span style=color:#f92672>with</span>:
</span></span><span style=display:flex><span>        <span style=color:#f92672>name</span>: <span style=color:#ae81ff>bannerlord</span>
</span></span><span style=display:flex><span>        <span style=color:#f92672>path</span>: <span style=color:#ae81ff>./bannerlord/</span>
</span></span></code></pre></div><h1 id=nexusmods>NexusMods</h1><p>NexusMods will require you to set the proper ModId (<code>nexusmods_mod_id</code>), this is the number at the end of your mod url.<br>Also, it will require to set 2 secrets, <code>NEXUSMODS_APIKEY</code> and <code>NEXUSMODS_COOKIES</code>.<br>You can get the ApiKey from <a href="https://www.nexusmods.com/users/myaccount?tab=api">here</a>. The Cookies will require you to log in to NexusMods via Firefox.<br>F12 and go to Network tab. Find any XHR method to nexusmods.com and copy the Cookies header. This is our NEXUSMODS_COOKIES secret.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-yml data-lang=yml><span style=display:flex><span>  <span style=color:#f92672>publish-on-nexusmods</span>:
</span></span><span style=display:flex><span>    <span style=color:#f92672>needs</span>: [<span style=color:#e6db74>&#34;build-module&#34;</span>]
</span></span><span style=display:flex><span>    <span style=color:#f92672>uses</span>: <span style=color:#ae81ff>BUTR/workflows/.github/workflows/release-nexusmods.yml@master</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>with</span>:
</span></span><span style=display:flex><span>      <span style=color:#f92672>nexusmods_game_id</span>: <span style=color:#ae81ff>mountandblade2bannerlord</span>
</span></span><span style=display:flex><span>      <span style=color:#f92672>nexusmods_mod_id</span>: <span style=color:#ae81ff>0</span>
</span></span><span style=display:flex><span>      <span style=color:#f92672>mod_filename</span>: <span style=color:#ae81ff>Bannerlord.Module</span>
</span></span><span style=display:flex><span>      <span style=color:#f92672>mod_version</span>: <span style=color:#ae81ff>INJECT YOUR VERSION SOMEHOW</span>
</span></span><span style=display:flex><span>      <span style=color:#f92672>mod_description</span>: <span style=color:#ae81ff>INJECT YOUR CHANGELOG SOMEHOW</span>
</span></span><span style=display:flex><span>      <span style=color:#f92672>artifact_name</span>: <span style=color:#ae81ff>bannerlord</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>secrets</span>:
</span></span><span style=display:flex><span>      <span style=color:#f92672>NEXUSMODS_APIKEY</span>: <span style=color:#ae81ff>${{ secrets.NEXUSMODS_APIKEY }}</span>
</span></span><span style=display:flex><span>      <span style=color:#f92672>NEXUSMODS_COOKIES</span>: <span style=color:#ae81ff>${{ secrets.NEXUSMODS_COOKIES }}</span>
</span></span></code></pre></div><h1 id=steam>Steam</h1><p>If Steam Guard is used, you need the STEAM_AUTH_CODE secret. Follow this url as a <a href=https://github.com/SteamTimeIdler/stidler/wiki/Getting-your-%27shared_secret%27-code-for-use-with-Auto-Restarter-on-Mobile-Authentication#getting-shared-secret-from-ios-windows>guide</a>:<br>You need to either switch to Steam Desktop Authenticator or extract the Shared Key secret from your phone&rsquo;s files.<br>If Steam Guard is not used, <code>STEAM_LOGIN</code> and <code>STEAM_PASSWORD</code> secrets will be enough.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-yml data-lang=yml><span style=display:flex><span>  <span style=color:#f92672>publish-on-steam</span>:
</span></span><span style=display:flex><span>    <span style=color:#f92672>needs</span>: [<span style=color:#e6db74>&#34;build-module&#34;</span>]
</span></span><span style=display:flex><span>    <span style=color:#f92672>uses</span>: <span style=color:#ae81ff>BUTR/workflows/.github/workflows/release-steam.yml@master</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>with</span>:
</span></span><span style=display:flex><span>      <span style=color:#f92672>workshop_id</span>: <span style=color:#ae81ff>0</span>
</span></span><span style=display:flex><span>      <span style=color:#f92672>mod_id</span>: <span style=color:#ae81ff>Bannerlord.Module</span>
</span></span><span style=display:flex><span>      <span style=color:#f92672>mod_description</span>: <span style=color:#ae81ff>INJECT YOUR CHANGELOG SOMEHOW</span>
</span></span><span style=display:flex><span>      <span style=color:#f92672>artifact_name</span>: <span style=color:#ae81ff>bannerlord</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>secrets</span>:
</span></span><span style=display:flex><span>      <span style=color:#f92672>STEAM_LOGIN</span>: <span style=color:#ae81ff>${{ secrets.STEAM_WORKSHOP_LOGIN }}</span>
</span></span><span style=display:flex><span>      <span style=color:#f92672>STEAM_PASSWORD</span>: <span style=color:#ae81ff>${{ secrets.STEAM_WORKSHOP_PASSWORD }}</span>
</span></span><span style=display:flex><span>      <span style=color:#f92672>STEAM_AUTH_CODE</span>: <span style=color:#ae81ff>${{ secrets.STEAM_WORKSHOP_AUTH_CODE }}</span>
</span></span></code></pre></div><h1 id=nugetgrp>NuGet/GRP</h1><p>You&rsquo;ll need an API Key for NuGet.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-yml data-lang=yml><span style=display:flex><span>  <span style=color:#f92672>publish-on-nuget</span>:
</span></span><span style=display:flex><span>    <span style=color:#f92672>needs</span>: [<span style=color:#e6db74>&#34;build-module&#34;</span>]
</span></span><span style=display:flex><span>    <span style=color:#f92672>uses</span>: <span style=color:#ae81ff>BUTR/workflows/.github/workflows/release-nuget.yml@master</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>with</span>:
</span></span><span style=display:flex><span>      <span style=color:#f92672>project_path</span>: <span style=color:#ae81ff>src/Bannerlord.Module/Bannerlord.Module.csproj</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>secrets</span>:
</span></span><span style=display:flex><span>      <span style=color:#f92672>NUGET_API_KEY</span>: <span style=color:#ae81ff>${{ secrets.NUGET_API_KEY }}</span>
</span></span></code></pre></div><h1 id=github-releases>GitHub Releases</h1><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-yml data-lang=yml><span style=display:flex><span>  <span style=color:#f92672>publish-on-github</span>:
</span></span><span style=display:flex><span>    <span style=color:#f92672>needs</span>: [<span style=color:#e6db74>&#34;build-module&#34;</span>]
</span></span><span style=display:flex><span>    <span style=color:#f92672>uses</span>: <span style=color:#ae81ff>BUTR/workflows/.github/workflows/release-github.yml@master</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>with</span>:
</span></span><span style=display:flex><span>      <span style=color:#f92672>mod_id</span>: <span style=color:#ae81ff>Bannerlord.Module</span>
</span></span><span style=display:flex><span>      <span style=color:#f92672>mod_version</span>: <span style=color:#ae81ff>INJECT YOUR VERSION SOMEHOW</span>
</span></span><span style=display:flex><span>      <span style=color:#f92672>mod_description</span>: <span style=color:#ae81ff>INJECT YOUR CHANGELOG SOMEHOW</span>
</span></span><span style=display:flex><span>      <span style=color:#f92672>artifact_name</span>: <span style=color:#ae81ff>bannerlord</span>
</span></span></code></pre></div><div class=edit-meta>Last updated on 29 Nov 2022<br>Published on 29 Nov 2022<br><a href=https://github.com/butr/documentation/edit/master/advanced/publishing-on-github.md class=edit-page><i class="fas fa-pen-square"></i>&nbsp;Edit on GitHub</a></div><nav class=pagination><a class="nav nav-prev" href=https://butr.github.io/documentation/advanced/ title=Advanced><i class="fas fa-arrow-left" aria-hidden=true></i>&nbsp;Prev - Advanced</a>
<a class="nav nav-next" href=https://butr.github.io/documentation/advanced/disabling-parts-of-external-functions/ title="Disabling Parts of External Functions">Next - Disabling Parts of External Functions <i class="fas fa-arrow-right" aria-hidden=true></i></a></nav><footer><p class=powered>Powered by <a href=https://gohugo.io>Hugo</a>. Theme by <a href=https://themes.gohugo.io/hugo-theme-techdoc/>TechDoc</a>. Designed by <a href=https://github.com/thingsym/hugo-theme-techdoc>Thingsym</a>.</p></footer></main><div class=sidebar><nav class=open-menu><ul><li><a href=https://butr.github.io/documentation/>Home</a></li><li class=parent><a href=https://butr.github.io/documentation/advanced/>Advanced</a><ul class=sub-menu><li class=active><a href=https://butr.github.io/documentation/advanced/publishing-on-github/>Publishing Mods on GitHub Actions (NexusMods, Steam Workshop, NuGet)</a></li><li><a href=https://butr.github.io/documentation/advanced/disabling-parts-of-external-functions/>Disabling Parts of External Functions</a></li><li><a href=https://butr.github.io/documentation/advanced/using-taleworld-crash-dump/>Using TaleWorld's Crash Dump</a></li><li><a href=https://butr.github.io/documentation/advanced/using-butterlib-crash-dump/>Using ButterLib's Crash Dump</a></li><li><a href=https://butr.github.io/documentation/advanced/advanced-analytics-crash-reports/>Advanced Stacktrace Analytics of Crash Reports</a></li><li><a href=https://butr.github.io/documentation/advanced/switching-from-membertinfo-to-accesstools2/>Switching from MemberInfo to AccessTools2</a></li><li><a href=https://butr.github.io/documentation/advanced/type-wrapping/>Type Wrapping</a></li></ul></li></ul></nav><div class=sidebar-footer></div></div></div><a href=# id=backtothetop-fixed class=backtothetop data-backtothetop-duration=600 data-backtothetop-easing=easeOutQuart data-backtothetop-fixed-fadein=1000 data-backtothetop-fixed-fadeout=1000 data-backtothetop-fixed-bottom=10 data-backtothetop-fixed-right=20><span class="fa-layers fa-fw"><i class="fas fa-circle"></i>
<i class="fas fa-arrow-circle-up"></i></span></a></div></body></html>