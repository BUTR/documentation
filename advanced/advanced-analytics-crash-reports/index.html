<!doctype html><html lang=en-us><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,maximum-scale=1,user-scalable=no"><title>Advanced Stacktrace Analytics of Crash Reports - BUTR Documentation</title><meta name=generator content="Hugo 0.107.0"><link href=https://butr.github.io/documentation//index.xml rel=alternate type=application/rss+xml><link rel=canonical href=https://butr.github.io/documentation/advanced/advanced-analytics-crash-reports/><link rel=stylesheet href=https://butr.github.io/documentation/css/theme.min.css><script src=https://use.fontawesome.com/releases/v5.0.6/js/all.js></script>
<link rel=stylesheet href=https://butr.github.io/documentation/css/chroma.min.css><script src=https://cdn.jsdelivr.net/npm/jquery@3.4.1/dist/jquery.min.js></script>
<script src=https://cdn.jsdelivr.net/npm/jquery.easing@1.4.1/jquery.easing.min.js></script>
<script src=https://cdn.jsdelivr.net/npm/clipboard@2.0.6/dist/clipboard.min.js></script>
<script src=https://butr.github.io/documentation/js/bundle.js></script><style>:root{}</style><meta property="og:title" content="Advanced Stacktrace Analytics of Crash Reports"><meta property="og:description" content="Introduction ButterLib v2.2.4 added a new entry in its Crash Report section called Enhanced Stacktrace.
It provides more info about the stacktrace of the exception -every frame (method call) provides more info:
If the method is changed by Harmony, it shows the original method and any prefix, postfix, transpiler or finalizer that is added, included with the Module that introduces the patch; An IL Offset is added; IL Offsets You should be able to know now the line that caused the exception, even if no debug symbols were present at the time of the crash."><meta property="og:type" content="article"><meta property="og:url" content="https://butr.github.io/documentation/advanced/advanced-analytics-crash-reports/"><meta property="og:image" content="https://butr.github.io/documentation/images/og-image.png"><meta property="article:section" content="advanced"><meta property="article:published_time" content="2022-10-21T23:45:00+03:00"><meta property="article:modified_time" content="2022-10-21T23:45:00+03:00"><meta property="og:site_name" content="BUTR Documentation"><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content="https://butr.github.io/documentation/images/og-image.png"><meta name=twitter:title content="Advanced Stacktrace Analytics of Crash Reports"><meta name=twitter:description content="Introduction ButterLib v2.2.4 added a new entry in its Crash Report section called Enhanced Stacktrace.
It provides more info about the stacktrace of the exception -every frame (method call) provides more info:
If the method is changed by Harmony, it shows the original method and any prefix, postfix, transpiler or finalizer that is added, included with the Module that introduces the patch; An IL Offset is added; IL Offsets You should be able to know now the line that caused the exception, even if no debug symbols were present at the time of the crash."><meta itemprop=name content="Advanced Stacktrace Analytics of Crash Reports"><meta itemprop=description content="Introduction ButterLib v2.2.4 added a new entry in its Crash Report section called Enhanced Stacktrace.
It provides more info about the stacktrace of the exception -every frame (method call) provides more info:
If the method is changed by Harmony, it shows the original method and any prefix, postfix, transpiler or finalizer that is added, included with the Module that introduces the patch; An IL Offset is added; IL Offsets You should be able to know now the line that caused the exception, even if no debug symbols were present at the time of the crash."><meta itemprop=datePublished content="2022-10-21T23:45:00+03:00"><meta itemprop=dateModified content="2022-10-21T23:45:00+03:00"><meta itemprop=wordCount content="190"><meta itemprop=image content="https://butr.github.io/documentation/images/og-image.png"><meta itemprop=keywords content></head><body><div class=container><header><h1>BUTR Documentation</h1><a href=https://github.com/butr/documentation class=github><i class="fab fa-github"></i></a></header><div class=content-container><main><h1>Advanced Stacktrace Analytics of Crash Reports</h1><h1 id=introduction>Introduction</h1><p>ButterLib v2.2.4 added a new entry in its Crash Report section called <strong>Enhanced Stacktrace</strong>.<br>It provides more info about the stacktrace of the exception -every frame (method call) provides more info:</p><ul><li>If the method is changed by Harmony, it shows the original method and any prefix, postfix, transpiler or finalizer that is added, included with the Module that introduces the patch;</li><li>An IL Offset is added;</li></ul><h1 id=il-offsets>IL Offsets</h1><p>You should be able to know now the line that caused the exception, even if no debug symbols were present at the time of the crash.<br>This will be the most helpful when debugging vanilla game code.<br>Here&rsquo;s how to use it:</p><ul><li>Download dnSpy or any other software that can show the IL code of a method;</li><li>Convert the IL Offset to hexadecimal;</li><li>Open the IL Code of the method;</li><li>The IL Offset will link to the exact line the code threw an exception;</li></ul><h1 id=example>Example</h1><p>As an example, here&rsquo;s a <a href=https://report.butr.link/8EA037.html>crash report</a>. The IL Offset of the method <strong>CalculateSettlementValueForFaction</strong> is <strong>73</strong> (<strong>0x49</strong> hex).<br><img src=https://media.discordapp.net/attachments/423816778276274176/1032936619822567434/unknown.png alt=https://media.discordapp.net/attachments/423816778276274176/1032936619822567434/unknown.png>
The IL code shows that at <strong>0049</strong> is the line</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-csharp data-lang=csharp><span style=display:flex><span>itemObject.ItemHolsters = (<span style=color:#66d9ef>string</span>[])craftedData.Template.ItemHolsters.Clone();
</span></span></code></pre></div><p><img src=https://media.discordapp.net/attachments/423816778276274176/1032936863205433414/unknown.png alt=https://media.discordapp.net/attachments/423816778276274176/1032936863205433414/unknown.png>
On which the NullReferenceException occured.</p><div class=edit-meta>Last updated on 21 Oct 2022<br>Published on 21 Oct 2022<br><a href=https://github.com/butr/documentation/edit/master/advanced/advanced-analytics-crash-reports.md class=edit-page><i class="fas fa-pen-square"></i>&nbsp;Edit on GitHub</a></div><nav class=pagination><a class="nav nav-prev" href=https://butr.github.io/documentation/advanced/using-butterlib-crash-dump/ title="Using ButterLib's Crash Dump"><i class="fas fa-arrow-left" aria-hidden=true></i>&nbsp;Prev - Using ButterLib's Crash Dump</a>
<a class="nav nav-next" href=https://butr.github.io/documentation/advanced/switching-from-membertinfo-to-accesstools2/ title="Switching from MemberInfo to AccessTools2">Next - Switching from MemberInfo to AccessTools2 <i class="fas fa-arrow-right" aria-hidden=true></i></a></nav><footer><p class=powered>Powered by <a href=https://gohugo.io>Hugo</a>. Theme by <a href=https://themes.gohugo.io/hugo-theme-techdoc/>TechDoc</a>. Designed by <a href=https://github.com/thingsym/hugo-theme-techdoc>Thingsym</a>.</p></footer></main><div class=sidebar><nav class=open-menu><ul><li><a href=https://butr.github.io/documentation/>Home</a></li><li class=parent><a href=https://butr.github.io/documentation/advanced/>Advanced</a><ul class=sub-menu><li><a href=https://butr.github.io/documentation/advanced/publishing-on-github/>Publishing Mods on GitHub Actions (NexusMods, Steam Workshop, NuGet)</a></li><li><a href=https://butr.github.io/documentation/advanced/disabling-parts-of-external-functions/>Disabling Parts of External Functions</a></li><li><a href=https://butr.github.io/documentation/advanced/using-butterlib-crash-dump/>Using ButterLib's Crash Dump</a></li><li class=active><a href=https://butr.github.io/documentation/advanced/advanced-analytics-crash-reports/>Advanced Stacktrace Analytics of Crash Reports</a></li><li><a href=https://butr.github.io/documentation/advanced/switching-from-membertinfo-to-accesstools2/>Switching from MemberInfo to AccessTools2</a></li><li><a href=https://butr.github.io/documentation/advanced/type-wrapping/>Type Wrapping</a></li></ul></li></ul></nav><div class=sidebar-footer></div></div></div><a href=# id=backtothetop-fixed class=backtothetop data-backtothetop-duration=600 data-backtothetop-easing=easeOutQuart data-backtothetop-fixed-fadein=1000 data-backtothetop-fixed-fadeout=1000 data-backtothetop-fixed-bottom=10 data-backtothetop-fixed-right=20><span class="fa-layers fa-fw"><i class="fas fa-circle"></i>
<i class="fas fa-arrow-circle-up"></i></span></a></div></body></html>